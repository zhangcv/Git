<!DOCTYPE html><html class="theme-next muse use-motion" lang="en"><head><meta name="generator" content="Hexo 3.8.0"><script type="text/javascript" src="/js/love.js"></script><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><script src="/VEN/pace/pace.min.js?v=1.0.2"></script><link rel="stylesheet" href="/VEN/pace/pace-theme-minimal.min.css?v=1.0.2"><link rel="stylesheet" href="/VEN/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.0.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1"><link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"7.0.1",sidebar:{position:"left",display:"hide",offset:12,onmobile:!1,dimmer:!0},back2top:!0,back2top_sidebar:!1,fancybox:!1,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><meta name="description" content="源码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102"><meta name="keywords" content="数据结构"><meta property="og:type" content="article"><meta property="og:title" content="二叉树的前序、中序、后序线索化"><meta property="og:url" content="http://zhangcv.github.io/2019/07/22/2019-07-22-02/index.html"><meta property="og:site_name" content="Zhangcv&#39;s Personal Website"><meta property="og:description" content="源码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102"><meta property="og:locale" content="en"><meta property="og:updated_time" content="2019-07-30T02:44:34.680Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="二叉树的前序、中序、后序线索化"><meta name="twitter:description" content="源码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102"><link rel="canonical" href="http://zhangcv.github.io/2019/07/22/2019-07-22-02/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>二叉树的前序、中序、后序线索化 | Zhangcv's Personal Website</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="en"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Zhangcv's Personal Website</span><span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"> <button aria-label="Toggle navigation bar"><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i><br>Tags<span class="badge">16</span></a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i><br>Categories<span class="badge">17</span></a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives<span class="badge">97</span></a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="menu-item-icon fa fa-fw fa-question-circle"></i><br>Commonweal 404</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav><script>window.onload=function(){for(var t="https://zhangcv.github.io/",o=String(window.location).split(t)[1],l=document.querySelectorAll("#menu > li > a"),i=0;i<l.length;i++){var n=String(l[i].href).split(t)[1];n==o&&null!=n&&l[i].setAttribute("style","border-bottom:1px solid black")}}</script></div> <a href="https://github.com/zhangcv" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://zhangcv.github.io/2019/07/22/2019-07-22-02/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Jack"><meta itemprop="description" content="Jack's Ideas & Blogs"><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Zhangcv's Personal Website"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">二叉树的前序、中序、后序线索化</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2019-07-22 21:31:30" itemprop="dateCreated datePublished" datetime="2019-07-22T21:31:30+08:00">2019-07-22</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/数据结构/" itemprop="url" rel="index"><span itemprop="name">数据结构</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><p>源码<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br></pre></td><td class="code"><pre><span class="line">public class ThreadBinaryTreeDemo &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//中序线索二叉树</span><br><span class="line">		/*HeroNode root = new HeroNode(1, <span class="string">"tom"</span>);</span><br><span class="line">		HeroNode node2 =new HeroNode(3, <span class="string">"jack"</span>);</span><br><span class="line">		HeroNode node3 =new HeroNode(6, <span class="string">"simth"</span>);</span><br><span class="line">		HeroNode node4 =new HeroNode(8, <span class="string">"marry"</span>);</span><br><span class="line">		HeroNode node5 =new HeroNode(10, <span class="string">"king"</span>);</span><br><span class="line">		HeroNode node6 =new HeroNode(14, <span class="string">"dim"</span>);</span><br><span class="line">		//二叉树，后面我们要递归创建，现在简单处理使用手动创建</span><br><span class="line">		root.setLeft(node2);</span><br><span class="line">		root.setRight(node3);</span><br><span class="line">		node2.setLeft(node4);</span><br><span class="line">		node2.setRight(node5);</span><br><span class="line">		</span><br><span class="line">		node3.setLeft(node6);</span><br><span class="line">		//测试线索化</span><br><span class="line">		ThreadBinaryTree threadBinaryTree = new ThreadBinaryTree();</span><br><span class="line">		threadBinaryTree.setRoot(root);</span><br><span class="line">		threadBinaryTree.infixthreadNodes();</span><br><span class="line">		</span><br><span class="line">		// 测试：以10号节点测试</span><br><span class="line">		HeroNode leftnode = node5.getLeft();</span><br><span class="line">		HeroNode rightnode = node5.getRight();</span><br><span class="line">		System.out.println(<span class="string">"10号节点前驱结点 "</span>+leftnode); //3 </span><br><span class="line">		System.out.println(<span class="string">"10号节点后继结点 "</span>+rightnode);//1</span><br><span class="line">		</span><br><span class="line">		//当线索二叉树后，不能使用原来的遍历方式</span><br><span class="line">		System.out.println(<span class="string">"使用线索化的方式遍历线索化二叉树"</span>);</span><br><span class="line">		threadBinaryTree.threadList();//</span><br><span class="line">		*/</span><br><span class="line">		HeroNode root = new HeroNode(1, <span class="string">"A"</span>);</span><br><span class="line">		HeroNode node2 =new HeroNode(2, <span class="string">"B"</span>);</span><br><span class="line">		HeroNode node3 =new HeroNode(3, <span class="string">"C"</span>);</span><br><span class="line">		HeroNode node4 =new HeroNode(4, <span class="string">"D"</span>);</span><br><span class="line">		HeroNode node5 =new HeroNode(5, <span class="string">"E"</span>);</span><br><span class="line">		HeroNode node6 =new HeroNode(6, <span class="string">"F"</span>);</span><br><span class="line">		HeroNode node7 =new HeroNode(7, <span class="string">"G"</span>);</span><br><span class="line">		HeroNode node8 =new HeroNode(8, <span class="string">"H"</span>);</span><br><span class="line">		HeroNode node9 =new HeroNode(9, <span class="string">"I"</span>);</span><br><span class="line">		root.setLeft(node2);</span><br><span class="line">		root.setRight(node3);</span><br><span class="line">		node2.setLeft(node4);</span><br><span class="line">		node2.setRight(node5);</span><br><span class="line">		</span><br><span class="line">		node3.setLeft(node6);</span><br><span class="line">		node3.setRight(node7);</span><br><span class="line"></span><br><span class="line">		node4.setLeft(node8);</span><br><span class="line">		node4.setRight(node9);</span><br><span class="line"></span><br><span class="line">		// 为了后序线索化，手动挡</span><br><span class="line">		node2.setParent(root);</span><br><span class="line">		node3.setParent(root);</span><br><span class="line"></span><br><span class="line">		node4.setParent(node2);</span><br><span class="line">		node5.setParent(node2);</span><br><span class="line"></span><br><span class="line">		node6.setParent(node3);</span><br><span class="line">		node7.setParent(node3);</span><br><span class="line">		node8.setParent(node4);</span><br><span class="line">		node9.setParent(node4);</span><br><span class="line"></span><br><span class="line">		ThreadBinaryTree threadBinaryTree = new ThreadBinaryTree();</span><br><span class="line">		threadBinaryTree.setRoot(root);</span><br><span class="line">		threadBinaryTree.postOrder();</span><br><span class="line">		threadBinaryTree.postthreadNodes();</span><br><span class="line"></span><br><span class="line">		HeroNode leftnode = node6.getLeft();</span><br><span class="line">		HeroNode rightnode = node6.getRight();</span><br><span class="line">		System.out.println(<span class="string">"F节点前驱结点 "</span> + leftnode); // D</span><br><span class="line">		System.out.println(<span class="string">"F节点后继结点 "</span> + rightnode);// B</span><br><span class="line"></span><br><span class="line">		threadBinaryTree.postthreadList();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//实现线索化功能的二叉树 ThreadBinaryTree</span><br><span class="line">class ThreadBinaryTree &#123;</span><br><span class="line">	private HeroNode root;</span><br><span class="line">	</span><br><span class="line">	//为了实现线索化，需要创建指向当前结点的前驱节点的指针</span><br><span class="line">	//当递归进行线索化时，pre 总是记录前一个结点，(后序线索化需要父节点)</span><br><span class="line">	private HeroNode pre = null;</span><br><span class="line"></span><br><span class="line">	public void setRoot(HeroNode root) &#123;</span><br><span class="line">		this.root = root;</span><br><span class="line">	&#125;</span><br><span class="line">	// 重载threadNodes</span><br><span class="line">	public void <span class="function"><span class="title">postthreadNodes</span></span>() &#123;</span><br><span class="line">		this.postthreadNodes(root);</span><br><span class="line">	&#125;</span><br><span class="line">	// 编写对二叉树进行后序线索化的方法</span><br><span class="line">	/**</span><br><span class="line">	 * </span><br><span class="line">	 * @param heroNode</span><br><span class="line">	 *            当前需要线索化的结点</span><br><span class="line">	 */</span><br><span class="line">	public void postthreadNodes(HeroNode node) &#123;</span><br><span class="line">		<span class="keyword">if</span> (node == null) &#123;</span><br><span class="line">			<span class="built_in">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		// 1.线索化左子树</span><br><span class="line">		postthreadNodes(node.getLeft());</span><br><span class="line">		// 2.线索化右子树</span><br><span class="line">		postthreadNodes(node.getRight());</span><br><span class="line">		// 3.线索化当前结点[有难度]</span><br><span class="line">		// 处理当前结点的前驱节点，前驱线索</span><br><span class="line">		<span class="keyword">if</span> (node.getLeft() == null) &#123;</span><br><span class="line">			node.setLeft(pre);// 让当前结点的左子针指向前驱节点</span><br><span class="line">			node.setLefttype(1);// 修改当前节点的左子针类型</span><br><span class="line">		&#125;</span><br><span class="line">		// 处理后继节点，后继线索</span><br><span class="line">		<span class="keyword">if</span> (pre != null &amp;&amp; pre.getRight() == null) &#123;</span><br><span class="line">			pre.setRight(node);// 让前驱节点的右指针指向当前结点</span><br><span class="line">			pre.setRighttype(1);</span><br><span class="line">		&#125;</span><br><span class="line">		// ！！！每处理完一个节点后，让当前结点是下一个结点的前驱结点</span><br><span class="line">		pre = node;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 遍历中序线索化二叉树的方法,按照后序遍历方式遍历</span><br><span class="line">	public void <span class="function"><span class="title">postthreadList</span></span>() &#123;</span><br><span class="line">		// 定义一个变量，存储当前遍历的结点，从root开始</span><br><span class="line">		HeroNode node = root;</span><br><span class="line">		<span class="keyword">while</span> (node != null) &#123;</span><br><span class="line">			// 循环找到lefttype==1的结点.</span><br><span class="line">			// 后面随着遍历而变化，因为lefttype==1，说明该结点是按照线索化</span><br><span class="line">			// 处理后的结点</span><br><span class="line">			<span class="keyword">while</span> (node.getLefttype() == 0) &#123;</span><br><span class="line">				node = node.getLeft();</span><br><span class="line">			&#125;</span><br><span class="line">			// 如果当前结点的右指针指向的是后继结点，就一直输出</span><br><span class="line">			<span class="keyword">while</span> (node.getRighttype() == 1) &#123;</span><br><span class="line">				System.out.println(node);</span><br><span class="line">				pre = node;</span><br><span class="line">				node = node.getRight();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">while</span> (node.getRight() == pre) &#123;</span><br><span class="line">				System.out.println(node);</span><br><span class="line">				<span class="keyword">if</span> (node == root) &#123;</span><br><span class="line">					<span class="built_in">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				pre = node;</span><br><span class="line">				node = node.getParent();</span><br><span class="line">			&#125;</span><br><span class="line">			// 替换这个遍历的结点</span><br><span class="line">			node = node.getRight();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 重载threadNodes</span><br><span class="line">	public void <span class="function"><span class="title">infixthreadNodes</span></span>() &#123;</span><br><span class="line">		this.infixthreadNodes(root);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 编写对二叉树进行中序线索化的方法</span><br><span class="line">	/**</span><br><span class="line">	 * </span><br><span class="line">	 * @param heroNode</span><br><span class="line">	 *            当前需要线索化的结点</span><br><span class="line">	 */</span><br><span class="line">	public void infixthreadNodes(HeroNode node) &#123;</span><br><span class="line">		<span class="keyword">if</span> (node == null) &#123;</span><br><span class="line">			<span class="built_in">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		// 1.线索化左子树</span><br><span class="line">		infixthreadNodes(node.getLeft());</span><br><span class="line">		// 2.线索化当前结点[有难度]</span><br><span class="line"></span><br><span class="line">		// 处理当前结点的前驱节点</span><br><span class="line">		// 以8为例，8.left=null,8.lefttype=1</span><br><span class="line">		<span class="keyword">if</span> (node.getLeft() == null) &#123;</span><br><span class="line">			// 让当前结点的左子针指向前驱节点</span><br><span class="line">			node.setLeft(pre);</span><br><span class="line">			// 修改当前节点的左子针类型</span><br><span class="line">			node.setLefttype(1);</span><br><span class="line">		&#125;</span><br><span class="line">		// 处理后继节点</span><br><span class="line">		<span class="keyword">if</span> (pre != null &amp;&amp; pre.getRight() == null) &#123;</span><br><span class="line">			// 让前驱节点的右指针指向当前结点</span><br><span class="line">			pre.setRight(node);</span><br><span class="line">			pre.setRighttype(1);</span><br><span class="line">		&#125;</span><br><span class="line">		// ！！！没处理完一个节点后，让当前结点是下一个结点的前驱结点</span><br><span class="line">		pre = node;</span><br><span class="line">		// 3.线索化右子树</span><br><span class="line">		infixthreadNodes(node.getRight());</span><br><span class="line">	&#125;</span><br><span class="line">	// 遍历中序线索化二叉树的方法,按照前驱遍历方式遍历</span><br><span class="line">	public void <span class="function"><span class="title">infixthreadList</span></span>() &#123;</span><br><span class="line">		// 定义一个变量，存储当前遍历的结点，从root开始</span><br><span class="line">		HeroNode node = root;</span><br><span class="line">		<span class="keyword">while</span> (node != null) &#123;</span><br><span class="line">			// 循环找到lefttype==1的结点，第一个找到就是8结点</span><br><span class="line">			// 后面随着遍历而变化，因为lefttype==1，说明该结点是按照线索化</span><br><span class="line">			// 处理后的结点</span><br><span class="line">			<span class="keyword">while</span> (node.getLefttype() == 0) &#123;</span><br><span class="line">				node = node.getLeft();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			// 打印当前结点</span><br><span class="line">			System.out.println(node);</span><br><span class="line">			// 如果当前结点的右指针指向的是后继结点，就一直输出</span><br><span class="line">			<span class="keyword">while</span> (node.getRighttype() == 1) &#123;</span><br><span class="line">				// 获取当前结点的后继结点</span><br><span class="line">				node = node.getRight();</span><br><span class="line">				System.out.println(node);</span><br><span class="line">			&#125;</span><br><span class="line">			// 替换这个遍历的结点</span><br><span class="line">			node = node.getRight();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	// 重载threadNodes</span><br><span class="line">	public void <span class="function"><span class="title">prethreadNodes</span></span>() &#123;</span><br><span class="line">		this.prethreadNodes(root);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 编写对二叉树进行前序线索化的方法</span><br><span class="line">	/**</span><br><span class="line">	 * </span><br><span class="line">	 * @param heroNode</span><br><span class="line">	 *            当前需要线索化的结点</span><br><span class="line">	 */</span><br><span class="line">	public void prethreadNodes(HeroNode node) &#123;</span><br><span class="line">		<span class="keyword">if</span> (node == null) &#123;</span><br><span class="line">			<span class="built_in">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		// 左指针为空,让当前结点的左子针指向前驱节点,前驱线索</span><br><span class="line">		<span class="keyword">if</span> (node.getLeft() == null) &#123;</span><br><span class="line">			node.setLeft(pre);</span><br><span class="line">			node.setLefttype(1);</span><br><span class="line">		&#125;</span><br><span class="line">		// 处理后继节点 ，让前驱节点的后继结点指向当前结点,后继线索</span><br><span class="line">		<span class="keyword">if</span> (pre != null &amp;&amp; pre.getRight() == null) &#123;</span><br><span class="line">			pre.setRight(node);</span><br><span class="line">			pre.setRighttype(1);</span><br><span class="line">		&#125;</span><br><span class="line">		pre = node;</span><br><span class="line">		// 线索化左子树</span><br><span class="line">		<span class="keyword">if</span> (node.getLefttype() == 0) &#123;</span><br><span class="line">			prethreadNodes(node.getLeft());</span><br><span class="line">		&#125;</span><br><span class="line">		// 线索化右子树</span><br><span class="line">		prethreadNodes(node.getRight());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 遍历线索化二叉树的方法,按照前驱遍历方式遍历</span><br><span class="line">	public void <span class="function"><span class="title">prethreadList</span></span>() &#123;</span><br><span class="line">		// 定义一个变量，存储当前遍历的结点，从root开始</span><br><span class="line">		HeroNode node = root;</span><br><span class="line">		<span class="keyword">while</span> (node != null) &#123;</span><br><span class="line">			// 循环找到lefttype==1的结点，第一个找到就是root结点</span><br><span class="line">			// 后面随着遍历而变化，因为lefttype==1，说明该结点是按照线索化</span><br><span class="line">			// 处理后的结点</span><br><span class="line">			<span class="keyword">while</span> (node.getLefttype() == 0) &#123;</span><br><span class="line">				System.out.println(node);</span><br><span class="line">				node = node.getLeft();</span><br><span class="line">			&#125;</span><br><span class="line">			// 打印当前结点</span><br><span class="line">			System.out.println(node);</span><br><span class="line">			node = node.getRight();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 删除结点</span><br><span class="line">	public void delNode(int no) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root != null) &#123;</span><br><span class="line">			// 如果只有一个结点这里判断root是不是要删除的结点</span><br><span class="line">			<span class="keyword">if</span> (root.getNo() == no) &#123;</span><br><span class="line">				root = null;</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				root.delNode(no);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"空树，不能删除"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 前序遍历测试</span><br><span class="line">	public void <span class="function"><span class="title">preOrder</span></span>() &#123;</span><br><span class="line">		<span class="keyword">if</span> (this.root != null) &#123;</span><br><span class="line">			this.root.preOrder();</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"二叉树为空，无法遍历"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 中序遍历测试</span><br><span class="line">	public void <span class="function"><span class="title">infixOrder</span></span>() &#123;</span><br><span class="line">		<span class="keyword">if</span> (this.root != null) &#123;</span><br><span class="line">			this.root.infixOrder();</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"二叉树为空，无法遍历"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 后序遍历测试</span><br><span class="line">	public void <span class="function"><span class="title">postOrder</span></span>() &#123;</span><br><span class="line">		<span class="keyword">if</span> (this.root != null) &#123;</span><br><span class="line">			this.root.postOrder();</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"二叉树为空，无法遍历"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 前序遍历</span><br><span class="line">	public HeroNode preOrderSerach(int no) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> root.preOrderSearch(no);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">return</span> null;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 中序遍历</span><br><span class="line">	public HeroNode infixOrderSearch(int no) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> root.infixOrderSearch(no);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">return</span> null;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 后序遍历</span><br><span class="line">	public HeroNode postOrderSearch(int no) &#123;</span><br><span class="line">		<span class="keyword">if</span> (root != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> root.postOrderSearch(no);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="built_in">return</span> null;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class HeroNode &#123;</span><br><span class="line">	private int no;</span><br><span class="line">	private String name;</span><br><span class="line">	private HeroNode left;// 默认为空</span><br><span class="line">	private HeroNode right;// 默认为空</span><br><span class="line"></span><br><span class="line">	private HeroNode parent;// 为后序线索化 所用,父结点指针</span><br><span class="line"></span><br><span class="line">	// 说明</span><br><span class="line">	// 1.如果lefttype==0表示指向左子树，lefttype==1表示指向前驱节点</span><br><span class="line">	// 2.如果righttype==0表示指向右子树，righttype==1表示指向后继节点</span><br><span class="line">	private int lefttype;</span><br><span class="line">	private int righttype;</span><br><span class="line"></span><br><span class="line">	public int <span class="function"><span class="title">getLefttype</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> lefttype;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setLefttype(int lefttype) &#123;</span><br><span class="line">		this.lefttype = lefttype;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int <span class="function"><span class="title">getRighttype</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> righttype;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setRighttype(int righttype) &#123;</span><br><span class="line">		this.righttype = righttype;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public HeroNode(int no, String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.no = no;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public int <span class="function"><span class="title">getNo</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> no;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setNo(int no) &#123;</span><br><span class="line">		this.no = no;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public String <span class="function"><span class="title">getName</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setName(String name) &#123;</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public HeroNode <span class="function"><span class="title">getLeft</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> left;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setLeft(HeroNode left) &#123;</span><br><span class="line">		this.left = left;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public HeroNode <span class="function"><span class="title">getRight</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> right;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setRight(HeroNode right) &#123;</span><br><span class="line">		this.right = right;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public HeroNode <span class="function"><span class="title">getParent</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> parent;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setParent(HeroNode parent) &#123;</span><br><span class="line">		this.parent = parent;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public String <span class="function"><span class="title">toString</span></span>() &#123;</span><br><span class="line">		<span class="built_in">return</span> <span class="string">"HeroNode [no="</span> + no + <span class="string">", name="</span> + name + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * 1)如果删除的结点是叶子结点，则删除该节点</span><br><span class="line">	 * 2)如果删除的结点是非叶子结点，则删除该子树</span><br><span class="line">	 * @param no</span><br><span class="line">	 */</span><br><span class="line">	public void delNode(int no ) &#123;</span><br><span class="line">		/**</span><br><span class="line">		 * 思路</span><br><span class="line">		 * 1、因为我们的二叉树是单向的，所以我们是判断当前结点的子结点是否需要删除结点，而不能去判断当前这个结点是不是需要删除的结点</span><br><span class="line">		 * 2.如果当前结点的左子结点不为空，并且左子节点就是需要删除结点，就将</span><br><span class="line">		 * this.left=null;并且就返回(结束递归删除)</span><br><span class="line">		 * 3. 如果当前结点的右子结点不为空，并且右子结点就是要删除的结点，就将</span><br><span class="line">		 * this.right=null;并且就返回(结束递归删除)</span><br><span class="line">		 * 4. 如果第二步，第三步没有删除结点，那么我们就需要向左子树进行递归删除</span><br><span class="line">		 * 5.如果第4步也没有删除结点，则应对对右子树进行递归删除。</span><br><span class="line">		 * 6. 考虑如果树是空树 root，如果只有一个root结点，则将二叉树置空</span><br><span class="line">		 */</span><br><span class="line">		// 2.如果当前结点的左子结点不为空，并且左子节点就是需要删除结点，就将this.left=null;并且就返回(结束递归删除)</span><br><span class="line">		<span class="keyword">if</span> (this.left != null &amp;&amp; this.left.no == no) &#123;</span><br><span class="line">			this.left = null;</span><br><span class="line">			<span class="built_in">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		// 3.如果当前结点的右子结点不为空，并且右子节点就是需要删除结点，就将this.right=null;并且就返回(结束递归删除)</span><br><span class="line">		<span class="keyword">if</span> (this.right != null &amp;&amp; this.right.no == no) &#123;</span><br><span class="line">			this.right = null;</span><br><span class="line">			<span class="built_in">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		// 4.需要向左子树递归删除</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			this.left.delNode(no);</span><br><span class="line">		&#125;</span><br><span class="line">		// 5.需要向右子树递归删除</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			this.right.delNode(no);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 前序遍历</span><br><span class="line">	public void <span class="function"><span class="title">preOrder</span></span>() &#123;</span><br><span class="line">		System.out.println(this);// 先输出父节点</span><br><span class="line">		// 递归向左子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			this.left.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		// 递归向右子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			this.right.preOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 中序遍历</span><br><span class="line">	public void <span class="function"><span class="title">infixOrder</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">		// 递归向左子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			this.left.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(this);// 输出父节点</span><br><span class="line">		// 递归向右子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			this.right.infixOrder();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 后序遍历</span><br><span class="line">	public void <span class="function"><span class="title">postOrder</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">		// 递归向左子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			this.left.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		// 递归向右子树前序遍历</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			this.right.postOrder();</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(this);// 输出父节点</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 前序遍历查找</span><br><span class="line">	public HeroNode preOrderSearch(int no) &#123;</span><br><span class="line">		<span class="keyword">if</span> (this.no == no) &#123;</span><br><span class="line">			<span class="built_in">return</span> this;</span><br><span class="line">		&#125;</span><br><span class="line">		// 1.则判断当前结点的左子结点是否为空，如果不为空，递归前序查找</span><br><span class="line">		// 2.如果做地柜前序查找，找到结点，则返回</span><br><span class="line">		HeroNode resNode = null;</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			resNode = this.left.preOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (resNode != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> resNode;</span><br><span class="line">		&#125;</span><br><span class="line">		// 1.左递归前序查找，找到结点，则返回，否继续判断</span><br><span class="line">		// 2.当前的结点的右子结点是否为空，如果不为空，则继续向右递归前序查找</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			resNode = this.right.preOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">return</span> resNode;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 中序遍历查找</span><br><span class="line">	public HeroNode infixOrderSearch(int no) &#123;</span><br><span class="line"></span><br><span class="line">		// 1.则判断当前结点的左子结点是否为空，如果不为空，递归中序查找</span><br><span class="line">		HeroNode resNode = null;</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			resNode = this.left.infixOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (resNode != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> resNode;</span><br><span class="line">		&#125;</span><br><span class="line">		// 2.如果做地柜前序查找，找到结点，则返回</span><br><span class="line">		// System.out.println(<span class="string">"进入中序查找"</span>);</span><br><span class="line">		<span class="keyword">if</span> (this.no == no) &#123;</span><br><span class="line">			<span class="built_in">return</span> this;</span><br><span class="line">		&#125;</span><br><span class="line">		// 否则向右递归中序查找</span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			resNode = this.right.infixOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">return</span> resNode;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	// 后序遍历查找</span><br><span class="line">	public HeroNode postOrderSearch(int no) &#123;</span><br><span class="line"></span><br><span class="line">		// 1.则判断当前结点的左子结点是否为空，如果不为空，递归后序查找</span><br><span class="line"></span><br><span class="line">		HeroNode resNode = null;</span><br><span class="line">		<span class="keyword">if</span> (this.left != null) &#123;</span><br><span class="line">			resNode = this.left.postOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (resNode != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> resNode;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (this.right != null) &#123;</span><br><span class="line">			resNode = this.right.postOrderSearch(no);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (resNode != null) &#123;</span><br><span class="line">			<span class="built_in">return</span> resNode;</span><br><span class="line">		&#125;</span><br><span class="line">		// 如果左右子树都不是，比较根节点</span><br><span class="line">		System.out.println(<span class="string">"进入后序遍历查找"</span>);</span><br><span class="line">		<span class="keyword">if</span> (this.no == no) &#123;</span><br><span class="line">			<span class="built_in">return</span> this;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">return</span> resNode;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">结果：输出以后序线索化为例</span><br><span class="line">HeroNode [no=8, name=H]</span><br><span class="line">HeroNode [no=9, name=I]</span><br><span class="line">HeroNode [no=4, name=D]</span><br><span class="line">HeroNode [no=5, name=E]</span><br><span class="line">HeroNode [no=2, name=B]</span><br><span class="line">HeroNode [no=6, name=F]</span><br><span class="line">HeroNode [no=7, name=G]</span><br><span class="line">HeroNode [no=3, name=C]</span><br><span class="line">HeroNode [no=1, name=A]</span><br><span class="line">F节点前驱结点 HeroNode [no=2, name=B]</span><br><span class="line">F节点后继结点 HeroNode [no=7, name=G]</span><br><span class="line">HeroNode [no=8, name=H]</span><br><span class="line">HeroNode [no=9, name=I]</span><br><span class="line">HeroNode [no=4, name=D]</span><br><span class="line">HeroNode [no=5, name=E]</span><br><span class="line">HeroNode [no=2, name=B]</span><br><span class="line">HeroNode [no=6, name=F]</span><br><span class="line">HeroNode [no=7, name=G]</span><br><span class="line">HeroNode [no=3, name=C]</span><br><span class="line">HeroNode [no=1, name=A]</span><br></pre></td></tr></table></figure><p></p></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/数据结构/" rel="tag"># 数据结构</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/07/22/2019-07-22/" rel="next" title="堆排序"><i class="fa fa-chevron-left"></i> 堆排序</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/2019/07/23/2019-07-23/" rel="prev" title="SpringMVC拦截器及国际化、异常处理">SpringMVC拦截器及国际化、异常处理<i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><div class="site-overview-wrap sidebar-panel sidebar-panel-active"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="/images/avatar.gif" alt="Jack"><p class="site-author-name" itemprop="name">Jack</p><div class="site-description motion-element" itemprop="description">Jack's Ideas & Blogs</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives"><span class="site-state-item-count">97</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories"><span class="site-state-item-count">17</span> <span class="site-state-item-name">categories</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags"><span class="site-state-item-count">16</span> <span class="site-state-item-name">tags</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3poYW5nY3Y=" title="GitHub &rarr; https://github.com/zhangcv"><i class="fa fa-fw fa-github"></i> GitHub</span></span><span class="links-of-author-item"><span class="exturl" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS96aGFuZ2N2MjAxNw==" title="Twitter &rarr; https://twitter.com/zhangcv2017"><i class="fa fa-fw fa-twitter"></i> Twitter</span></span></div></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span><span class="with-love" id="animate"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">Jack</span></div> "<div class="powered-by">Powered by <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> v3.8.0</div> <span class="post-meta-divider">|</span><div class="theme-info">Theme – <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Muse</span> v7.0.1</div> "<br><script type="text/javascript">var cnzz_s_tag=document.createElement("script");cnzz_s_tag.type="text/javascript",cnzz_s_tag.async=!0,cnzz_s_tag.charset="utf-8",cnzz_s_tag.src="https://w.cnzz.com/c.php?id=1276883782&async=1";var root_s=document.getElementsByTagName("script")[0];root_s.parentNode.insertBefore(cnzz_s_tag,root_s)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script> <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span> <span class="post-meta-divider">|</span> <span id="busuanzi_container_site_uv">本站访客数<span id="busuanzi_value_site_uv"></span>人</span><br> <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("04/01/2019 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="Run for "+dnum+" Days ",document.getElementById("times").innerHTML=hnum+" Hours "+mnum+" m "+snum+" s"}setInterval("createtime()",250)</script></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script src="/VEN/jquery/index.js?v=2.1.3"></script><script src="/VEN/velocity/velocity.min.js?v=1.2.1"></script><script src="/VEN/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/js/utils.js?v=7.0.1"></script><script src="/js/motion.js?v=7.0.1"></script><script src="/js/schemes/muse.js?v=7.0.1"></script><script src="/js/next-boot.js?v=7.0.1"></script><script src="/js/exturl.js?v=7.0.1"></script><script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script></body></html>